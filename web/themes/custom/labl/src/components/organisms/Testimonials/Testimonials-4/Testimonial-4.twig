{% set cardCols = cards|length %}
{%  if cardCols > 3 %}
    {% set cardCols = 3 %}
{% endif %}
<section class="testimonial testimonial-4" data-bs-theme="{{ componentTheme }}">
    <div class="container">

        {% if sectionIntroHeading or sectionIntroText %}
        <div class="section-heading row {% if not leftAlign %}justify-content-center {% endif %}">
            <div class="col-lg-7 {% if not leftAlign %}text-center {% endif %}">
                {% include '../../../molecules/Content/Content.twig' with {
                    heading: sectionIntroHeading,
                    haadingSize: 'h2',
                    text: sectionIntroText
                } %}
             </div>
        </div>
        {% endif %}
        <div class="row row-cols-1 row-cols-lg-{{ cardCols }} {% if not leftAlign %}justify-content-center {% endif %}">
            {% for card in cards %}
            <div class="col d-flex {% if not leftAlign %}justify-content-center {% endif %} ">
                {% include '../../../molecules/Cards/Testimonial-Card-2/Testimonial-Card-2.twig' with {
                    rating: card.rating,
                    image: card.image,
                    quote: card.quote,
                    authorFirstName: card.authorFirstName,
                    authorLastName: card.authorLastName,
                    authorInfo: card.authorInfo,
                    authorImage: card.authorImage,
                    cardUrl: card.cardUrl,
                    border: border,
                    leftAlign: leftAlign } %}
            </div>
            {% endfor %}
        </div>
    </div>
</section>